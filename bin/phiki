#!/usr/bin/env php
<?php

use Phiki\Tokenizer;

require_once __DIR__ . '/../vendor/autoload.php';

$tokenizer = new Tokenizer([
    'scopeName' => 'source.test',
    'patterns' => [
        [
            'name' => 'meta.namespace.test',
            'match' => '(?i)(?:^|(?<=<\\?php))\\s*(namespace)\\s+([a-z0-9_\\x{7f}-\\x{10ffff}\\\\]+)(?=\\s*;)',
            'captures' => [
                '1' => [
                    'name' => 'keyword.other.namespace.test',
                ],
                '2' => [
                    'name' => 'entity.name.type.namespace.test',
                    'patterns' => [
                        [
                            'match' => '\\\\',
                            'name' => 'punctuation.separator.inheritance.test',
                        ],
                    ],
                ],
            ],
        ],
    ],
]);

$tokens = $tokenizer->tokenize('namespace Foo;');

dd($tokens);